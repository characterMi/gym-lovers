{"version":3,"file":"static/js/334.761c8aba.chunk.js","mappings":"0NAmHA,UA5GuB,WACrB,IAAQA,GAAOC,EAAAA,EAAAA,MAAPD,GAERE,GAAqCC,EAAAA,EAAAA,KAA7BC,EAAYF,EAAZE,aAAcC,EAAUH,EAAVG,WAEtBC,GAA8DC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArEI,EAAuBF,EAAA,GAAEG,EAA0BH,EAAA,GAC1DI,GAA0DL,EAAAA,EAAAA,WAAS,GAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjEE,EAAqBD,EAAA,GAAEE,EAAwBF,EAAA,GACtDG,GAA4CT,EAAAA,EAAAA,eAASU,GAAUC,GAAAT,EAAAA,EAAAA,GAAAO,EAAA,GAAxDG,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GACxCG,GAA4Cd,EAAAA,EAAAA,eAASU,GAAUK,GAAAb,EAAAA,EAAAA,GAAAY,EAAA,GAAxDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GACxCG,GAA0DlB,EAAAA,EAAAA,eAASU,GAAUS,GAAAjB,EAAAA,EAAAA,GAAAgB,EAAA,GAAtEE,EAAqBD,EAAA,GAAEE,EAAwBF,EAAA,GACtDG,GACEtB,EAAAA,EAAAA,eAASU,GAAUa,GAAArB,EAAAA,EAAAA,GAAAoB,EAAA,GADdE,EAAwBD,EAAA,GAAEE,EAA2BF,EAAA,GAiE5D,OA9DAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAV,EAAAA,EAAAA,KAAAW,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAkBQ,OAjB3BX,EAAgB,oCAEhBC,EAAO,eAAAW,GAAAhB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAe,EAAOC,GAAG,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAtB,EAAAA,EAAAA,KAAAW,MAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,OACa,GADXI,EAAYG,EAAAG,OAAA,QAAA5C,IAAAyC,EAAA,IAAAA,EAAA,KAChCF,EAAapD,EAAakD,IAEjB,CAADM,EAAAT,KAAA,eAAAS,EAAAE,OAAA,SAASN,GAAU,cAAAI,EAAAT,KAAA,GAEdY,EAAAA,EAAAA,IACjBT,EACAC,EAAeS,EAAAA,GAAiBC,EAAAA,IAChC,KAAD,EAE6B,OALxBR,EAAIG,EAAAM,OAKF7D,EAAWiD,EAAKG,GAAMG,EAAAE,OAAA,SAEvBL,GAAI,wBAAAG,EAAAO,OAAA,GAAAd,EAAA,KACZ,gBAbYe,GAAA,OAAAhB,EAAAiB,MAAA,KAAAV,UAAA,KAebhD,GAA2B,GAAMsC,EAAAE,KAAA,EACAV,EAAQ,GAAD6B,OACnC9B,EAAa,wBAAA8B,OAAuBtE,IACvC,KAAD,EACiC,GAH5B0C,EAAkBO,EAAAiB,KAGxBvD,GAA2B,GAEtB+B,EAAmB,CAADO,EAAAE,KAAA,SAIkB,OAHvC/B,OAAkBH,GAClBO,OAAkBP,GAClBW,OAAyBX,GACzBe,OAA4Bf,GAAWgC,EAAAa,OAAA,kBAMV,OAF/B1C,EAAkBsB,GAElB3B,GAAyB,GAAMkC,EAAAE,KAAA,GAKrBoB,QAAQC,WAAW,CAC3B/B,EAAQ,mEAAD6B,OAC8D5B,EAAmB+B,OACtF,GAEFhC,EAAQ,GAAD6B,OACF9B,EAAa,sBAAA8B,OAAqB5B,EAAmBgC,SAE1DjC,EAAQ,GAAD6B,OACF9B,EAAa,yBAAA8B,OAAwB5B,EAAmBiC,cAE5D,KAAD,GAAAhC,EAAAM,EAAAiB,KAAAtB,GAAAnC,EAAAA,EAAAA,GAAAkC,EAAA,GAdSE,EAAkBD,EAAA,GAAzBgC,MACO9B,EAAyBF,EAAA,GAAhCgC,MACO7B,EAA4BH,EAAA,GAAnCgC,MAaJ7D,GAAyB,GAEzBS,EAAoC,OAAlBqB,QAAkB,IAAlBA,OAAkB,EAAlBA,EAAoBgC,UACtCjD,EAAyBkB,GACzBd,EAA4Be,GAA8B,yBAAAE,EAAAkB,OAAA,GAAA5B,EAAA,KAC3D,kBAxDuB,OAAAJ,EAAAkC,MAAA,KAAAV,UAAA,KA0DxBzB,GACF,GAAG,CAAClC,KAGF8E,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAAAF,UACLF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,CAAO,eACQ,IACZtE,EACG,eACc,OAAdS,QAAc,IAAdA,GAAAA,EAAgBsD,KAAI,GAAAH,OACjBnD,EAAesD,KAAI,aACtB,mBAIRQ,EAAAA,EAAAA,KAACE,EAAAA,EAAM,CACLC,QAAS1E,EACTS,eAAgBA,KAGlB8D,EAAAA,EAAAA,KAACI,EAAAA,GAAc,CACbD,QAAStE,EACTS,eAAgBA,EAChBkD,KAAoB,OAAdtD,QAAc,IAAdA,OAAc,EAAdA,EAAgBsD,QAGxBQ,EAAAA,EAAAA,KAACK,EAAAA,GAAgB,CACfF,QAAStE,EACTa,sBAAuBA,EACvBI,yBAA0BA,MAIlC,C","sources":["pages/ExerciseDetail.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Detail, ExerciseVideos, SimilarExercises } from \"../components\";\r\nimport { useDataStore } from \"../providers/DataStoreContext\";\r\nimport { exerciseOptions, fetchData, youtubeOptions } from \"../utils/fetchData\";\r\n\r\nconst ExerciseDetail = () => {\r\n  const { id } = useParams();\r\n\r\n  const { getDataByUrl, setNewData } = useDataStore();\r\n\r\n  const [isExerciseDetailLoading, setIsExerciseDetailLoading] = useState(true);\r\n  const [isExerciseInfoLoading, setIsExerciseInfoLoading] = useState(true);\r\n  const [exerciseDetail, setExerciseDetail] = useState(undefined);\r\n  const [exerciseVideos, setExerciseVideos] = useState(undefined);\r\n  const [targetMuscleExercises, setTargetMuscleExercises] = useState(undefined);\r\n  const [equipmentMuscleExercises, setEquipmentMuscleExercises] =\r\n    useState(undefined);\r\n\r\n  useEffect(() => {\r\n    const fetchExercisesData = async () => {\r\n      const exerciseDBUrl = \"https://exercisedb.p.rapidapi.com\";\r\n\r\n      const getData = async (url, isYoutubeReq = false) => {\r\n        const cachedData = getDataByUrl(url);\r\n\r\n        if (cachedData) return cachedData;\r\n\r\n        const data = await fetchData(\r\n          url,\r\n          isYoutubeReq ? youtubeOptions : exerciseOptions\r\n        );\r\n\r\n        data && setNewData(url, data);\r\n\r\n        return data;\r\n      };\r\n\r\n      setIsExerciseDetailLoading(true);\r\n      const exerciseDetailData = await getData(\r\n        `${exerciseDBUrl}/exercises/exercise/${id}`\r\n      );\r\n      setIsExerciseDetailLoading(false);\r\n\r\n      if (!exerciseDetailData) {\r\n        setExerciseDetail(undefined);\r\n        setExerciseVideos(undefined);\r\n        setTargetMuscleExercises(undefined);\r\n        setEquipmentMuscleExercises(undefined);\r\n        return;\r\n      }\r\n\r\n      setExerciseDetail(exerciseDetailData);\r\n\r\n      setIsExerciseInfoLoading(true);\r\n      const [\r\n        { value: exerciseVideosData },\r\n        { value: targetMuscleExercisesData },\r\n        { value: equipmentMuscleExercisesData },\r\n      ] = await Promise.allSettled([\r\n        getData(\r\n          `https://youtube-search-and-download.p.rapidapi.com/search?query=${exerciseDetailData.name}`,\r\n          true\r\n        ),\r\n        getData(\r\n          `${exerciseDBUrl}/exercises/target/${exerciseDetailData.target}`\r\n        ),\r\n        getData(\r\n          `${exerciseDBUrl}/exercises/equipment/${exerciseDetailData.equipment}`\r\n        ),\r\n      ]);\r\n      setIsExerciseInfoLoading(false);\r\n\r\n      setExerciseVideos(exerciseVideosData?.contents);\r\n      setTargetMuscleExercises(targetMuscleExercisesData);\r\n      setEquipmentMuscleExercises(equipmentMuscleExercisesData);\r\n    };\r\n\r\n    fetchExercisesData();\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>\r\n          Gym Lovers |{\" \"}\r\n          {isExerciseDetailLoading\r\n            ? \"(loading...)\"\r\n            : exerciseDetail?.name\r\n            ? `${exerciseDetail.name} Exercise`\r\n            : \"(error...)\"}\r\n        </title>\r\n      </Helmet>\r\n\r\n      <Detail\r\n        loading={isExerciseDetailLoading}\r\n        exerciseDetail={exerciseDetail}\r\n      />\r\n\r\n      <ExerciseVideos\r\n        loading={isExerciseInfoLoading}\r\n        exerciseVideos={exerciseVideos}\r\n        name={exerciseDetail?.name}\r\n      />\r\n\r\n      <SimilarExercises\r\n        loading={isExerciseInfoLoading}\r\n        targetMuscleExercises={targetMuscleExercises}\r\n        equipmentMuscleExercises={equipmentMuscleExercises}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ExerciseDetail;\r\n"],"names":["id","useParams","_useDataStore","useDataStore","getDataByUrl","setNewData","_useState","useState","_useState2","_slicedToArray","isExerciseDetailLoading","setIsExerciseDetailLoading","_useState3","_useState4","isExerciseInfoLoading","setIsExerciseInfoLoading","_useState5","undefined","_useState6","exerciseDetail","setExerciseDetail","_useState7","_useState8","exerciseVideos","setExerciseVideos","_useState9","_useState10","targetMuscleExercises","setTargetMuscleExercises","_useState11","_useState12","equipmentMuscleExercises","setEquipmentMuscleExercises","useEffect","fetchExercisesData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","exerciseDBUrl","getData","exerciseDetailData","_yield$Promise$allSet","_yield$Promise$allSet2","exerciseVideosData","targetMuscleExercisesData","equipmentMuscleExercisesData","wrap","_context2","prev","next","_ref2","_callee","url","isYoutubeReq","cachedData","data","_args","arguments","_context","length","abrupt","fetchData","youtubeOptions","exerciseOptions","sent","stop","_x","apply","concat","Promise","allSettled","name","target","equipment","value","contents","_jsxs","_Fragment","children","_jsx","Helmet","Detail","loading","ExerciseVideos","SimilarExercises"],"sourceRoot":""}